CREATE DATABASE ProductManager
GO

USE ProductManager

DROP TABLE Categories

CREATE TABLE Categories (
ID INT IDENTITY,
Name NVARCHAR (20) NOT NULL,
Description NVARCHAR (100),
ImageURL NVARCHAR (50),
IDParent INT FOREIGN KEY REFERENCES Categories(ID),
PRIMARY KEY (ID)
)

DROP TABLE Products

CREATE TABLE Products (
ID INT IDENTITY,
ArticleNumber NVARCHAR(13) NOT NULL ,
Name NVARCHAR (50) NOT NULL,
Description NVARCHAR(50),
ImageURL NVARCHAR(50),
Price DECIMAL NOT NULL,
CONSTRAINT AN_ArticleNumber UNIQUE(ArticleNumber),
PRIMARY KEY (ID),
 )

 CREATE TABLE Users (
 Id INT IDENTITY,
 Name NVARCHAR(13),
 Password NVARCHAR(25),
 PRIMARY KEY (ID)
 )

 DROP TABLE ProductsCategories

  CREATE TABLE ProductsCategories (
  ID INT IDENTITY,
  IDProduct INT  FOREIGN KEY REFERENCES Products(ID) ON DELETE CASCADE,
  IDCategory INT FOREIGN KEY REFERENCES Categories(ID) ON DELETE CASCADE,
  PRIMARY KEY (ID),
  CONSTRAINT IDProductCategory UNIQUE(IDProduct, IDCategory)
 )






